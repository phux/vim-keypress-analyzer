# Vim Keypress Analyzer

vim-keypress-analyzer parses a vim keypress log file generated by `(n)vim -w <a_log_file>` and aggregates key press counts.

## Features

- [x] count keys pressed by operating mode (NORMAL, INSERT, VISUAL, COMMAND)
- [x] count key frequencies (only when not in INSERT mode)
- [ ] key sequence analysis (e.g. `jjj`)
  - [ ] (maybe) analyze for antipatterns?


## Example output

```sh
 cd .cmd/ && go run main.go -l 10 -f ~/.nvim_keylog

Vim Keypress Analyzer

Key presses per mode (total: 4087)
│───────────│───────│
│ NAME (4)  │ COUNT │
│───────────│───────│
│ insert    │  1.9K │
│ normal    │  1.4K │
│ visual    │   511 │
│ command   │   253 │
│───────────│───────│

Key presses (in non-INSERT mode)
│───────────│───────│
│ KEY (10)  │ COUNT │
│───────────│───────│
│ w         │   308 │
│ k         │   200 │
│ j         │   177 │
│ <space>   │   165 │
│ b         │   140 │
│ �         │    86 │
│ d         │    63 │
│ e         │    62 │
│ <esc>     │    61 │
│ c         │    54 │
│───────────│───────│
```


## Collecting keypresses in vim/nvim

Execute (n)vim with the `-w path/to/logfile` flag to generate a keypress log file. Note: the file is only written on exiting (n)vim.

Helpful alias:

```sh
n='nvim -w ~/.nvim_keylog "$@"'
v='vim -w ~/.vim_keylog "$@"'
```

## Usage

```sh
cd cmd
go run main.go -f <a_log_file>
```

Optional:

Append `-l <number>` to limit the number of top keystrokes to show.
